## Scope
This repository belongs to a series called DTech (Domotic Tech) which breaks down a complete home automation project into three stages: Hardware, Microcontroller and App.

The sole objective of this series is the satisfaction of transforming creative ideas into functional prototypes through problem-solving and self-learning.

If you are passionate about this idea, or at least curious, feel free to use this project as a reference to improve it and carry out your own creations!

# DTech-Hardware
A compact PCB designed for IoT / Home automation applications

This little board have enough dimentions to fix inside a led bulb with E27 socket.
ESP32 microcontroller allow control lights (RGB or not) connecting with MQTT service.

Let's split the proposed scheme by parts:

1. Power Supply
   By design, this pcb is expected to work at 12V. > Why?
   
   Current LED bulbs have inside drivers bypassing the internal AC to DC power supply to work

   So, 12V supply could be convenience to
   
   > Connect our PCB behind driver bulb (Remember, dimension may fix to do that)
   
   > Use an independent grid generated by renewable energy (It would be awesome)

   Okey, our LED must work at 12V... but ESP32 work at 5V - 3.3V. Let's think a strategy.
   
   Probably, easy way will be using regulator as 7805 to get 5V. So simply
   
   Datasheet component have all specs and also have some examples as circuit with capacitor values to improve DC signal. Of course we should take it into account if necessary.
   
   However, we can anticipate another issue.. What? Inputs and Output pins of ESP32 work at 3.3V, not 5V
   
   Again, we found other easy solution: AMS1117 -> 3.3V Regulator. Surprised? I guess not.
   
   Using two regulator allow us getting an stable signal and be able to use 5V to supply aditional sensors.

   *Remember we need a small PCB and we are going to use SMD components*

![Rotating PCB](images/pcb_rotation.gif)

## Features
- 2-layer PCB for compact design
- Uses ESP32 microcontroller via WIFI protocol
- 12V Power Supply board
- RGB Light control by MOSFET
- LDR Sensor allow
- PIR Motion Sensor allow

## Tools Used
- EasyEDA for design

## SCHEMA
See `SCHEMA/sch_light_rgb.json`
![Schema](images/sch_light_rgb.jpg)

## Gallery
![PCB Bottom Render](images/light_rgb_render_bottom.JPG)
![PCB Up Render](images/light_rgb_render__up.JPG)
![Layer Bottom](images/layer_bottom.JPG)
![Layer Up](images/layer_up.JPG)

## BOM
See `BOM/bom_light_rgb.csv`

## Fabrication
Gerber files are in `fabrication-files/`, ready for production.
